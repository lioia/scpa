# scpa

## Building

```bash
module load gnu mpich # or `module load mpi` in local development
cmake -B build
cmake --build build
```

## Running

There is a helper script to run every matrices for a particular version:

```bash
./scripts/run.sh generate
./scripts/run.sh mpi
./scripts/run.sh mpi-omp
./scripts/run.sh omp
```

### Matrix Generation

Matrix are generated by an additional program:

```bash
./build/scpa-matrix-generator <m> <n> <k>
```

### MPI

Parallel version using MPI

```bash
mpirun -n <p> ./build/mpi/scpa-mpi <m> <n> <k>
```

### OpenMP

Parallel Version using OpenMP

```bash
./build/omp/scpa-omp <m> <n> <k> <p>
```

### MPI + OpenMP

```bash
mpirun -n <p> ./build/mpi/scpa-mpi-omp <m> <n> <k> <t>
```

## Graphs

Graphs are created using the `matplotlib` library for Python and can be
generated by running the helper script:

```bash
./scripts/graphs.sh
```
